<!--
  Generated template for the CalendarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<script src="https://cdn.jsdelivr.net/npm/moment@2/moment.min.js"></script>
 <script src="https://apis.google.com/js/api.js"></script>
 <script src="https://apis.google.com/js/client.js"></script>
 <script src="https://www.googleapis.com/auth/userinfo.email"></script>
 <script src="https://www.googleapis.com/auth/userinfo.profile"></script>

<ion-header>
  <ion-navbar>
    <ion-title>Calendar</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div class="row">
    <section>
      <h2>Calendar
        <button id="sync-button"
                *ngIf="authorised"
                (click)="refresh()">sync
        </button>
      </h2>
      <div *ngIf="!loading && !authorised" class="col-12 justify-content-center">
        <p class="col-12 text-center mx-auto">Would you like to STAT view your calendar?</p>
        <div class="justify-content-center mx-auto">
          <button id="authorize-button"
                  class="align-self-center d-block mx-auto"
                  (click)="checkAuth()"> Allow
          </button>
        </div>
      </div>
      <div *ngIf="authorised" id="calendar" class="justify-content-center">
        <div id="frame-border">
          <div id="frame-background">
            <iframe id="calendar-frame"
                    class="mx-auto"
                    style="border: 0" frameborder="0"
                    width="100%" height="500em"
                    scrolling="no">
            </iframe>
          </div>
        </div>
      </div>
    </section>
  </div>
  
</ion-content>
