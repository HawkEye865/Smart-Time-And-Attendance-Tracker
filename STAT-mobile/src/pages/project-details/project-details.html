<!--
  Generated template for the ProjectDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{pro.projectName}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-item *ngIf="pro.completed == false">
    Status:
    <ion-badge>In Progress</ion-badge>
  </ion-item>
  <ion-item *ngIf="pro.completed == true">
    Status:
    <ion-badge color="secondary">Completed</ion-badge>
  </ion-item>
  <ion-item>
    Due: {{formatDate(pro.dueDate)}}
  </ion-item>
  <br>
  <ion-list>
    <ion-list-header>Tasks
      <ion-badge>{{pro.tasks.length}}</ion-badge>
    </ion-list-header>
    <ion-item *ngFor="let t of sortProTasks(pro.tasks)">
      <h3>{{t.taskName}}</h3>
      <p>{{formatDate(t.dueDate)}}</p>
      <p item-end>{{t.taskStatus}}</p>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-list-header>Members
      <ion-badge>{{pro.projectMembers.length}}</ion-badge>
    </ion-list-header>
    <ion-item *ngFor="let m of pro.projectMembers">
      <ion-avatar item-start>
        <span *ngIf="m.profilePicture == 'none'">{{m.name[0]}}{{m.surname[0]}}</span>
        <img *ngIf="m.profilePicture != 'none'" src="{{m.profilePicture}}">
      </ion-avatar>
      <h3>{{m.name}} {{m.surname}}</h3>
      <p>{{m.role}}</p>
    </ion-item>
  </ion-list>
</ion-content>
